<div class="container">

  <div class="documents-header">
    <span>
      <button mat-button class="expand-button" (click)="accordion.openAll()">Expand All</button>
    </span>
    <span>
      <button mat-button class="expand-button" (click)="accordion.closeAll()">Collapse All</button>
    </span>
    <span class="add-new">
      <span class="add-text"> Add New <mat-icon>add</mat-icon> </span>

      <div class="hidden-add-option">
        <mat-list role="list">
          <mat-list-item role="listitem" value="document" (click)="openDocumentSlidePanel(1);">Document</mat-list-item>
          <mat-list-item role="listitem" value="author" (click)="openAuthorSlidePanel(1);">Author</mat-list-item>
          <mat-list-item role="listitem" value="group" (click)="openGroupSlidePanel(1);">Group</mat-list-item>
        </mat-list>
      </div>
    </span>
    <span class="filter-container">
      <mat-form-field appearance="legacy">
        <mat-label>Authors</mat-label>
        <mat-select multiple panelClass="select-panel">
          <mat-option *ngFor="let author of documentAuthors" [value]="author.name">
            {{author.name | titlecase}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="legacy">
        <mat-label>Group</mat-label>
        <mat-select panelClass="select-panel">
          <mat-option *ngFor="let group of documentGroups" [value]="group.name">
            {{group.name | titlecase}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </span>
  </div>


  <mat-divider></mat-divider>

  <ng-container *ngFor="let documentByAuthor of documentsByAuthor">

    <div class="accordion-author-container">
      <span class="group-text"> Author: {{ documentByAuthor.name | titlecase }} </span>
    </div>
    <mat-accordion class="headers-align" multi="true">
      <mat-expansion-panel  *ngFor="let document of documentByAuthor.documents">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Title: {{document.title | titlecase}}
          </mat-panel-title>
          <mat-panel-description>
            {{document.description | titlecase}}
          </mat-panel-description>
          <div class="edit-delete-icons-container">
            <mat-icon (click)="$event.stopPropagation();$event.preventDefault()">edit</mat-icon>
            <mat-icon (click)="$event.stopPropagation();$event.preventDefault()">delete_outline</mat-icon>
          </div>
        </mat-expansion-panel-header>

        <mat-form-field>
          <!-- <mat-label>Age</mat-label> -->
          <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1">
            {{document.body}}
        </textarea>
        </mat-form-field>

      </mat-expansion-panel>

    </mat-accordion>

  </ng-container>

</div>


<div class="slide-panel-container">
  <app-document-slide-panel></app-document-slide-panel>
  <!-- <app-author-slide-panel></app-author-slide-panel> -->
  <!-- <app-group-slide-panel></app-group-slide-panel> -->
</div>

